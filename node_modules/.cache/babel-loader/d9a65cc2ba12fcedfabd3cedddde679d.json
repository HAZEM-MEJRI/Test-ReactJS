{"ast":null,"code":"import _objectSpread from \"/home/hazem/Documents/front-end-assessment-v1-test/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport * as productsActions from '../actions/products';\nimport { generateId } from '../utils';\nimport moment from 'moment';\nexport const isFeatured = ({\n  rating,\n  featured\n}) => rating > 8 || featured;\nexport function products(state = [], action) {\n  switch (action.type) {\n    case productsActions.RECEIVE_PRODUCTS:\n      return [...action.products];\n\n    case productsActions.DELETE_PRODUCT:\n      return state.filter(item => item.id !== action.productId);\n\n    case productsActions.UPDATE_PRODUCT:\n      return state.map(item => {\n        if (item.id === action.productId) {\n          return _objectSpread({}, item, action.data, {\n            featured: isFeatured(action.data)\n          });\n        }\n\n        return item;\n      });\n\n    case productsActions.CREATE_PRODUCT:\n      return state.concat([_objectSpread({}, action.data, {\n        id: generateId(),\n        featured: isFeatured(action.data),\n        createdAt: moment().format()\n      })]);\n\n    default:\n      return state;\n  }\n}\nexport function getProductById({\n  products\n}, productId) {\n  return products.find(({\n    id\n  }) => id === productId);\n}","map":{"version":3,"sources":["/home/hazem/Documents/front-end-assessment-v1-test/src/reducers/products.js"],"names":["productsActions","generateId","moment","isFeatured","rating","featured","products","state","action","type","RECEIVE_PRODUCTS","DELETE_PRODUCT","filter","item","id","productId","UPDATE_PRODUCT","map","data","CREATE_PRODUCT","concat","createdAt","format","getProductById","find"],"mappings":";AAAA,OAAO,KAAKA,eAAZ,MAAiC,qBAAjC;AACA,SAAQC,UAAR,QAAyB,UAAzB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AAEA,OAAO,MAAMC,UAAU,GAAG,CAAC;AAACC,EAAAA,MAAD;AAASC,EAAAA;AAAT,CAAD,KAAwBD,MAAM,GAAG,CAAT,IAAcC,QAAzD;AAEP,OAAO,SAASC,QAAT,CAAkBC,KAAK,GAAG,EAA1B,EAA8BC,MAA9B,EAAsC;AAC3C,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKT,eAAe,CAACU,gBAArB;AACE,aAAO,CACL,GAAGF,MAAM,CAACF,QADL,CAAP;;AAGF,SAAKN,eAAe,CAACW,cAArB;AACE,aAAOJ,KAAK,CAACK,MAAN,CAAcC,IAAD,IAAUA,IAAI,CAACC,EAAL,KAAYN,MAAM,CAACO,SAA1C,CAAP;;AACF,SAAKf,eAAe,CAACgB,cAArB;AACE,aAAOT,KAAK,CAACU,GAAN,CAAWJ,IAAD,IAAU;AACzB,YAAIA,IAAI,CAACC,EAAL,KAAYN,MAAM,CAACO,SAAvB,EAAkC;AAChC,mCACKF,IADL,EAEKL,MAAM,CAACU,IAFZ;AAGEb,YAAAA,QAAQ,EAAEF,UAAU,CAACK,MAAM,CAACU,IAAR;AAHtB;AAKD;;AACD,eAAOL,IAAP;AACD,OATM,CAAP;;AAUF,SAAKb,eAAe,CAACmB,cAArB;AACE,aAAOZ,KAAK,CAACa,MAAN,CAAa,mBACfZ,MAAM,CAACU,IADQ;AAElBJ,QAAAA,EAAE,EAAEb,UAAU,EAFI;AAGlBI,QAAAA,QAAQ,EAAEF,UAAU,CAACK,MAAM,CAACU,IAAR,CAHF;AAIlBG,QAAAA,SAAS,EAAEnB,MAAM,GAAGoB,MAAT;AAJO,SAAb,CAAP;;AAMF;AACE,aAAOf,KAAP;AA1BJ;AA4BD;AAED,OAAO,SAASgB,cAAT,CAAwB;AAACjB,EAAAA;AAAD,CAAxB,EAAoCS,SAApC,EAA+C;AACpD,SAAOT,QAAQ,CAACkB,IAAT,CAAc,CAAC;AAACV,IAAAA;AAAD,GAAD,KAAUA,EAAE,KAAKC,SAA/B,CAAP;AACD","sourcesContent":["import * as productsActions from '../actions/products';\nimport {generateId} from '../utils';\nimport moment from 'moment';\n\nexport const isFeatured = ({rating, featured}) => rating > 8 || featured;\n\nexport function products(state = [], action) {\n  switch (action.type) {\n    case productsActions.RECEIVE_PRODUCTS:\n      return [\n        ...action.products,\n      ];\n    case productsActions.DELETE_PRODUCT:\n      return state.filter((item) => item.id !== action.productId);\n    case productsActions.UPDATE_PRODUCT:\n      return state.map((item) => {\n        if (item.id === action.productId) {\n          return {\n            ...item,\n            ...action.data,\n            featured: isFeatured(action.data)\n          }\n        }\n        return item;\n      });\n    case productsActions.CREATE_PRODUCT:\n      return state.concat([{\n        ...action.data,\n        id: generateId(),\n        featured: isFeatured(action.data),\n        createdAt: moment().format(),\n      }]);\n    default:\n      return state;\n  }\n}\n\nexport function getProductById({products}, productId) {\n  return products.find(({id}) => id === productId);\n}\n"]},"metadata":{},"sourceType":"module"}